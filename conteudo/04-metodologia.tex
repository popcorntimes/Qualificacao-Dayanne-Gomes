%!TeX root=../tese.tex
%("dica" para o editor de texto: este arquivo é parte de um documento maior)
% para saber mais: https://tex.stackexchange.com/q/78101/183146

\chapter{Metodologia}
\label{chap:metodologia}

Neste capítulo, . As bases de dados utilizadas estão descritas na Seção \ref{sec:bases}. 

\section{Bases de dados}
\label{sec:bases}
Nesta seção, descrevemos as bases de dados utilizadas nesta etapa da pesquisa. Para realizar a análise das escolhas de graduação, utilizamos dados educacionais dos estudantes. Uma das fontes é o Exame Nacional do Ensino Médio (ENEM). Através dele, conseguimos obter informações sobre alunos concludentes e que já concluíram o ensino médio, bem como de suas escolas. A outra fonte utilizada é o Sistema de Seleção Unificada (SISU). Com ela, obtemos informações relativas à inscrição dos alunos em cursos de nível superior, além de detalhes das instituições e cursos ofertados. Uma versão resumida dos dicionários de dados, que explicam as variáveis das bases, está disponível no Apêndice A. 

\subsection{ENEM}
O Exame Nacional do Ensino Médio (ENEM) é um exame realizado pelo Ministério da Educação cujo objetivo é avaliar o desempenho escolar no final da educação básica. Desde 2009, ele passou a ser utilizado como mecanismo de ingresso à educação superior, cujas notas podem ser aproveitadas no Sistema de Seleção Unificada (SISU) e Programa Universidade para Todos (ProUni). O exame também possibilita o pleito de certificação do ensino médio. Os participantes realizam provas em quatro áreas de conhecimento: linguagens, ciências humanas, ciências da natureza e matemática. Além disso, eles devem desenvolver um texto dissertativo-argumentativo dada uma situação-problema, conhecido como redação\autocite{inep:1}.

Os dados do Exame Nacional do Ensino Médio são disponibilizados publicamente através do Instituto Nacional de Estudos e Pesquisas Educacionais Anísio Teixeira (Inep). Os dados abertos do Inep incluem os microdados do ENEM, que reúnem um conjunto de informações relativas ao exame. Os microdados são o menor nível de desagregação de dados recolhidos, sendo disponibilizados dados dos anos de 1998 a 2022. Nesta etapa preliminar da pesquisa, utilizamos os dados do ano de 2016. Além dos microdados relativos às edições anuais, também são disponibilizados outros arquivos relevantes, como dicionário de dados, documentos técnicos, provas, gabaritos e programa para leitura da base.

Com o passar dos anos, os microdados foram se diferenciando à medida que eram incluídas ou retiradas determinadas variáveis, mas pode-se observar uma estrutura comum entre as edições. Em 2016, os dados estão divididos nas categorias:

\begin{itemize}
  \item Dados do participante; 
  \item Dados da escola;
  \item Dados dos pedidos de atendimento especializado;
  \item Dados dos pedidos de atendimento específico;
  \item Dados dos pedidos de recursos especializados e específicos para realização das provas;
  \item Dados dos pedidos de certificação do ensino médio;
  \item Dados do local de aplicação da prova;
  \item Dados da prova objetiva;
  \item Dados da redação;
  \item Dados do questionário socioeconômico.
\end{itemize}

Como parte da política adotada pela Lei Geral de Proteção de Dados Pessoais (LGPD), os dados passam por um tratamento antes de serem publicados. Isso significa que dados cadastrais e sensíveis, como nome, endereço, RG, etc, não são disponibilizados ou passam por uma máscara para anonimizá-lo, como é o caso do número de inscrição. Os arquivos de microdados são disponibilizados no formato .csv (valores separados por vírgulas). Os dados de 2016 constituem-se por apenas um  com uma tabela. Cada linha da tabela representa a inscrição de um candidato de forma individual, bem como as colunas são as variáveis definidas anteriormente, que caracterizam o participante. 

\subsection{SISU}
O Sistema de Seleção Unificada (SISU) é um sistema eletrônico do Ministério da Educação, no qual instituições públicas de ensino superior de todo o Brasil oferecem vagas para estudantes participantes do Exame Nacional do Ensino Médio. Durante o período da oferta de vagas, os alunos são ranqueados de acordo com as notas no exame e, aqueles com melhor classificação, são selecionados. Em cada processo seletivo do SISU, que tem duas aberturas anuais, o candidato pode escolher até duas opções de curso. É possível verificar informações sobre as vagas oferecidas, como cursos, instituições e localizações, turnos e modalidade de concorrência \autocite{mec:1}.

No ato da inscrição, o sistema recupera as notas da edição mais recente anterior do ENEM. Por exemplo, o SISU 2023 leva em consideração a edição do ENEM 2022. Apenas aqueles que obtiveram nota superior a zero na redação e não têm o status de treineiro no ENEM podem se inscrever. O processo é totalmente digital e gratuito, sendo o estudante o responsável por acompanhar o status da sua inscrição durante o mesmo. Quando não há a aprovação em uma das duas opções selecionadas, conhecido por chamada regular, ainda é possível a disputa por vaga através da lista de espera.

Os dados do Sistema de Seleção Unificada foram obtidos através do \href{https://dadosabertos.mec.gov.br/}{Portal de Dados Abertos do MEC}. O portal é uma plataforma que disponibiliza dados e informações públicas do Ministério da Educação, que podem ser usadas no desenvolvimento de aplicativos e ações. Além do SISU, é possível observar conjuntos de dados de outros programas como FIES, ProUni e PRONATEC. São disponibilizados dados relacionados às inscrições realizadas nos processos seletivos dos anos de 2017 a 2022.  Nesta etapa preliminar da pesquisa, utilizamos os dados do ano de 2017.

São fornecidas informações detalhadas sobre o participante, como dados pessoais e desempenho nas provas do ENEM, a vaga para qual ele se inscreve, além da classificação e aprovação. Diferente do ENEM, não há especificação de categoria dos dados no dicionário fornecido. Também há a aplicação de máscara para anonimizar dados sensíveis, como CPF e número de inscrição. Os arquivos também são disponibilizados no formato .csv. Desta vez, são constituídos por múltiplas tabelas. Cada tabela representa uma etapa do processo de convocação dos candidatos, sendo divididas entre chamada regular e lista de espera. Ocorre duas chamadas regulares ao longo do ano, uma em cada semestre. Já a quantidade de listas de espera varia, conforme o preenchimento de vagas nas etapas anteriores. Nesta etapa, utilizamos apenas os dados das chamadas regulares. Cada linha da tabela representa uma inscrição de um candidato, sendo possível que um candidato tenha múltiplas inscrições por conta das duas aberturas do processo ao longo do ano e por poder se inscrever em mais de um curso.

\subsection{Censo Escolar}
O Censo Escolar é um levantamento de informações da educação básica brasileira em escolas e instituições de ensino por todo o país. Essa ferramenta demográfica realiza coletas anuais em colaboração entre o Inep e as secretarias estaduais e municipais de educação, contando com a participação de todas as escolas públicas (federais, estaduais e municipais) e privadas da rede de ensino. O Censo abrange diferentes etapas e modalidades de ensino da educação básica e profissional. Ele permite a obtenção de dados individualizados, em diversos aspectos, de estudantes, professores, turmas e escolas. A pesquisa é realizada em duas etapas: a primeira coleta informações sobre os estabelecimentos de ensino, gestores, turmas, alunos e profissionais escolares em sala de aula; a segunda, informações sobre o movimento e o rendimento escolar dos alunos. 

Os dados do Censo Escolar, de forma semelhante ao ENEM, são disponibilizados ao público pelo INEP. 


\section{Pré-processamento}
Na etapa da metodologia de pré-processamento, os dados são tratados a fim de adaptá-los às necessidades do projeto.
Com isso, otimizamos as etapas posteriores através de obtenção de um conjunto de dados que seja mais relevante para a pesquisa, facilitando o processo de análise. 
As técnicas aplicadas podem ser agrupadas em redução, integração, limpeza e transformação de dados. Utilizamos como referência os trabalhos de \citet{Jafari2022, Garcia2016},
que provêm definições e exemplos práticos de como realizar esses processos.

É importante frisar que o processo de ciência de dados não é rígido e estático, mas sim um processo que se flexibiliza à medida que novas necessidades vão surgindo durante o projeto. Assim, as técnicas aplicadas no pré-processamento também são utilizadas além da etapa inicial. Para isso, utilizamos a linguagem Python, com as bibliotecas pandas e NumPy para análise e manipulação de dados.

Os datasets originais possuem um grande volume de dados, tanto pela quantidade de participantes inscritos, 
quanto pela quantidade de informações armazenadas sobre eles, expressas pelas colunas (ou \textit{features}). 
Uma consequência disso é uma maior utilização de recursos computacionais para processá-los, seja nos processos 
de leitura e escrita de arquivo quanto no armazenamento. Isso é particularmente importante pela inclusão de múltiplas fontes de dados. 
Assim, visamos diminuir a quantidade de dados pouco relevantes para a pesquisa, gerando dados menos volumosos e mais representativos. 

Uma técnica aplicada na redução foi a seleção de \textit{features}. Na seleção de \textit{features}, visando diminuir a dimensionalidade
 do conjunto de dados, é gerado um subconjunto das \textit{features} originais através da identificação e remoção daquelas pouco relevantes
ou redundantes. Isso foi realizado no \textit{dataset} do ENEM, que possui uma grande quantidade de colunas, e algumas informações, 
como as referentes à aplicação da prova, não são importantes na análise a ser realizada. 
Outra técnica aplicada foi a tipagem explícita de dados. Uma particularidade da biblioteca utilizada, pandas, é que a inferência de tipos 
nem sempre é a mais eficiente, o que pode levar a uma utilização de memória maior que o esperada, além de dificultar operações específicas, 
como manipulação de \textit{strings} e realização de cálculos matemáticos. Para contornar esse problema, fizemos uma análise dos valores, a fim de mapeá-los
para tipos de dados mais precisos, que pudessem melhorar os resultados da análise.

Outra característica dos \textit{datasets} é que eles são imperfeitos. Apesar da presença de documentação auxiliar que define como os dados se comportam, na prática, os dados têm um estado diferente, incompletos e com "sujeiras". Como a qualidade dos dados interfere nos resultados obtidos, foi necessário observar características dos dados para definir uma abordagem adequada.
Um dos problemas notados foi a ausência de valores em alguns campos. Por exemplo, foram encontrados registros de inscrições do SISU que não possuíam o curso de graduação do candidato. Optamos por não descartar esses registros que tivessem valores faltando, já que poderia causar uma perda de acurácia e um viés de auto-seleção, bem como a desconsideração de algumas \textit{features} mais importantes que outras. 

Visando solucionar essa questão, criamos novas classes de valores para representar uma instância de informação ausente e, quando possível, utilizamos funções de probabilidade para inserir valores inferidos. Também tornamos os dados consistentes entre si, já para a combinação das bases de dados, é necessário que os valores sejam do mesmo tipo e estejam uniformes em cada uma das bases. Ao realizarmos uma análise de anomalias para detectar valores problemáticos, observamos uma situação particular na qualidade dos dados do SISU. Por conter mais de um \textit{dataset} da chamada regular, era necessário agrupá-los para obter o cenário do ano como um todo, mas um deles estava parcialmente corrompido. A utilização inadvertida de dados não-estruturados pode levar a interpretações incorretas e falsas conclusões no processo de análise. Assim, realizamos um filtro dessas anomalias, relacionadas aos nomes das instituições de ensino, seus campi e cursos de graduação, que foram identificadas e tratadas para refletir o comportamento esperado. 
\section{Análise exploratória de dados}







